<!--
  Generated template for the CartePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-navbar color="kollere">
    <button ion-button="" menuToggle="">
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-buttons end="" >

      <button  ion-button icon-end style="text-transform: none" (click)="logout()">
      <span >Solde : {{GblVariable.solde}} f cfa | Cash :{{GblVariable.cash}}

       </span>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-label class="monlabel" align="center">ACHAT AVEC CARTE</ion-label>
  <ion-item>
    <ion-label floating="">Selectionner une famille</ion-label>
    <ion-select [(ngModel)]="famille" icon-left (ionChange)="selectionFamille()" interface="popover">
      <ion-option value="{{ f }}" *ngFor="let f of familles;">{{ f }}</ion-option>
    </ion-select>
  </ion-item>
  <ion-item>
    <ion-label floating="">Selectionner un produit</ion-label>
    <ion-select [(ngModel)]="produit" icon-left (ionChange)="selectionProduit()" interface="popover">
      <ion-option value="{{ p }}" *ngFor="let p of produits;">{{ p }}</ion-option>
    </ion-select>
  </ion-item>
  <ion-item>
    <ion-label floating>Quantité</ion-label>
    <ion-input icon-left="" type="number" [(ngModel)]="quantite" (ionChange)="selectionquantite()" ></ion-input>
  </ion-item>
  <ion-item>
    <ion-label class="monlabel">Prix boutique</ion-label>
    <ion-label class="monlabel">{{ prixboutique }}</ion-label>

  </ion-item>
  <ion-item>
    <ion-label class="monlabel" >Prix kollere</ion-label>
    <ion-label class="monlabel">{{ prixkollere }}</ion-label>

  </ion-item>
  <div padding="">
    <button (click)="ajouter()" ion-button="" block="" color="kollere" [disabled]="!produit || !quantite">Ajouter</button>

  </div>
  <div *ngIf="tabvalid" >
    <!--    <div class="p-span-tab p-span-tab-5-0" ng-if="operations">

      <div class="button-bar">
        <span class="p-span-tab-th">Item</span>
        <span class="p-span-tab-th">Quantite</span>
        <span class="p-span-tab-th">Prix Boutique</span>
        <span class="p-span-tab-th">Prix Kollere</span>
        <span class="p-span-tab-th">Prix Kollere</span>
      </div>

      <div class="button-bar" *ngFor="let list of listeitems;">
        <span class="p-span-tab-td">{{list.item }}</span>
        <span class="p-span-tab-td">{{ list.quantite }}</span>
        <span class="p-span-tab-td">{{ list.prixboutique }}</span>
        <span class="p-span-tab-td">{{ list.prixkollere }}</span>
        <span class="p-span-tab-td">{{ list.prixkollere }}</span>
      </div>
      <br>

      <ion-grid>
        <ion-row><ion-col>Item</ion-col> <ion-col>Quantite</ion-col><ion-col>Prix Boutique </ion-col><ion-col>Prix Kollere </ion-col><ion-col> </ion-col></ion-row>
        <ion-row *ngFor="let list of listeitems;" >
          <ion-col align-self-center>{{list.item }}</ion-col>
          <ion-col align-self-center>{{ list.quantite }}</ion-col>
          <ion-col align-self-center>{{ list.prixboutique }}</ion-col>
          <ion-col>{{  list.prixkollere  }}</ion-col>
          <ion-col align-self-center>supprimer</ion-col></ion-row>
      </ion-grid>
    <ngx-datatable
      [sortType]="'multi'"
      [headerHeight]="50"
      [footerHeight]="50"
      [rowHeight]="50"
      [rows]="listeitems"
      [columns]="columns"
      [columnMode]="'force'"
      [limit]="10">
    </ngx-datatable>-->
 <!--   <ngx-datatable class="fullscreen" [ngClass]="tablestyle" [rows]="listeitems" [columnMode]="'force'" [sortType]="'multi'" [reorderable]="false">
      <ngx-datatable-column name="Item"></ngx-datatable-column>
      <ngx-datatable-column name="Quantite"></ngx-datatable-column>
      <ngx-datatable-column name="Prix Boutique"></ngx-datatable-column>
      <ngx-datatable-column name="Prix Kollere"></ngx-datatable-column>
      <ngx-datatable-column name="Id"></ngx-datatable-column>
    </ngx-datatable>-->
    <ion-row style="border-bottom: groove;">
      <ion-col col-4>
        <ion-label class="monheader" >Item</ion-label>
      </ion-col>
      <ion-col col-1>
        <ion-label class="monheader">Qté</ion-label>
      </ion-col>
      <ion-col col-2>
        <ion-label class="monheader">kollere</ion-label>
      </ion-col>
      <ion-col col-2>
        <ion-label class="monheader" >Boutique</ion-label>
      </ion-col>
      <ion-col col-3>
        <ion-label ></ion-label>
      </ion-col>
    </ion-row>
    <ion-row  *ngFor="let list of listeitems;" style="border-bottom: groove;">
      <ion-col col-4>
        <ion-label >{{ list.item }}</ion-label>
      </ion-col>
      <ion-col col-1>
        <ion-label >{{ list.quantite }}</ion-label>
      </ion-col>
      <ion-col col-2>
        <ion-label >{{ list.prixkollere }}</ion-label>
      </ion-col>
      <ion-col col-2>
        <ion-label >{{ list.prixboutique }}</ion-label>
      </ion-col>
      <ion-col col-3>
        <button ion-button icon-only icon-end small outline round style="border: none; color: red" (click)="supprimer(list)">
              <span >
                <ion-icon name="ios-trash-outline"></ion-icon>
             </span>
        </button>
      </ion-col>
    </ion-row>
    <ion-item>
      <ion-label class="monlabel">Total boutique</ion-label>
      <ion-label class="monlabel">{{ totalb }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="monlabel" >Total kollere</ion-label>
      <ion-label class="monlabel">{{ totalk }}</ion-label>
    </ion-item>

    <div padding="" style="margin-bottom: 20px;">
      <button (click)="acheter()" ion-button="" block="" color="kollere" >Valider</button>

    </div>
  </div>

</ion-content>
